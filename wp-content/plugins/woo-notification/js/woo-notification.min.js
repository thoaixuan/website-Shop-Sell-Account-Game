"use strict";jQuery(document).ready(function(){if(jQuery("#message-purchased").length>0){var e=woo_notification;0==_woocommerce_notification_params.billing&&0==_woocommerce_notification_params.detect&&e.detect_address()}}),jQuery(window).load(function(){var e=woo_notification;if(e.ajax_url=_woocommerce_notification_params.ajax_url,e.products=_woocommerce_notification_params.products,e.messages=_woocommerce_notification_params.messages,e.image=_woocommerce_notification_params.image,e.redirect_target=_woocommerce_notification_params.redirect_target,e.time=_woocommerce_notification_params.time,e.display_effect=_woocommerce_notification_params.display_effect,e.hidden_effect=_woocommerce_notification_params.hidden_effect,e.messages=_woocommerce_notification_params.messages,e.names=_woocommerce_notification_params.names,e.detect=_woocommerce_notification_params.detect,e.billing=_woocommerce_notification_params.billing,e.message_custom=_woocommerce_notification_params.message_custom,e.message_number_min=_woocommerce_notification_params.message_number_min,e.message_number_max=_woocommerce_notification_params.message_number_max,e.time_close=_woocommerce_notification_params.time_close,e.show_close=_woocommerce_notification_params.show_close,0==_woocommerce_notification_params.billing&&0==_woocommerce_notification_params.detect){e.cities=[e.getCookie("wn_city")],e.country=[e.getCookie("wn_country")];var o=e.getCookie("wn_ip");o&&"undefined"!=o&&e.init()}else e.cities=_woocommerce_notification_params.cities,e.country=_woocommerce_notification_params.country,e.init()});var woo_notification={billing:0,in_the_same_cate:0,loop:0,init_delay:5,total:30,display_time:10,next_time:60,count:0,intel:0,wn_popup:0,id:0,messages:"",products:"",ajax_url:"",display_effect:"",hidden_effect:"",time:"",names:"",cities:"",country:"",message_custom:"",message_number_min:"",message_number_max:"",detect:0,time_close:0,show_close:0,shortcodes:["{first_name}","{city}","{state}","{country}","{product}","{product_with_link}","{time_ago}","{custom}"],init:function(){this.ajax_url?this.ajax_get_data():setTimeout(function(){woo_notification.get_product()},1e3*this.init_delay),jQuery("#message-purchased").on("mouseenter",function(){window.clearInterval(woo_notification.wn_popup)}).on("mouseleave",function(){woo_notification.message_show()})},detect_address:function(){this.getCookie("wn_ip")||jQuery.getJSON("https://extreme-ip-lookup.com/json/",function(e){e.query&&woo_notification.setCookie("wn_ip",e.query,86400),e.city&&woo_notification.setCookie("wn_city",e.city,86400),e.country&&woo_notification.setCookie("wn_country",e.country,86400)})},ajax_get_data:function(){var e;this.ajax_url&&(e=this.id?"&id="+this.id:"",jQuery.ajax({type:"POST",data:"action=woonotification_get_product"+e,url:this.ajax_url,success:function(e){var o=jQuery.parseJSON(e);o&&"undefined"!=o&&o.length>0&&(woo_notification.products=o,woo_notification.message_show(),setTimeout(function(){woo_notification.get_product()},1e3*woo_notification.init_delay))},error:function(e){}}))},message_show:function(){var e=this.count++;if(!(this.total<=e)){window.clearInterval(this.intel);var o=jQuery("#message-purchased");o.hasClass(this.hidden_effect)&&jQuery(o).removeClass(this.hidden_effect),jQuery(o).addClass(this.display_effect).css("display","flex"),this.wn_popup=setTimeout(function(){woo_notification.message_hide()},1e3*this.display_time)}},message_hide:function(){var e=jQuery("#message-purchased");e.hasClass(this.display_effect)&&jQuery(e).removeClass(this.display_effect),jQuery("#message-purchased").addClass(this.hidden_effect),jQuery("#message-purchased").fadeOut(1e3),window.clearInterval(this.wn_popup),this.getCookie("woo_notification_close")||this.loop&&(this.intel=setInterval(function(){woo_notification.get_product()},1e3*this.next_time))},get_time_string:function(){var e=this.random(0,3600*this.time),o=parseFloat(e/86400);return o>1?1==(o=parseInt(o))?o+" "+_woocommerce_notification_params.str_day:o+" "+_woocommerce_notification_params.str_days:(o=parseFloat(e/3600))>1?1==(o=parseInt(o))?o+" "+_woocommerce_notification_params.str_hour:o+" "+_woocommerce_notification_params.str_hours:(o=parseFloat(e/60))>1?1==(o=parseInt(o))?o+" "+_woocommerce_notification_params.str_min:o+" "+_woocommerce_notification_params.str_mins:o<10?_woocommerce_notification_params.str_few_sec:(o=parseInt(o))+" "+_woocommerce_notification_params.str_secs},get_product:function(){var e,o,t,i,a,n,s=this.products,c=this.messages,r=this.image,_=this.redirect_target;if("undefined"!=s&&s&&c&&s.length>0&&c.length>0){var m=c[n=woo_notification.random(0,c.length-1)],u=s[n=woo_notification.random(0,s.length-1)];parseInt(this.billing)>0&&parseInt(this.in_the_same_cate)<1?(e=u.first_name,i=u.city,o=u.state,t=u.country,a=u.time):(this.names&&"undefined"!=this.names?(n=woo_notification.random(0,this.names.length-1),e=this.names[n]):e="",this.cities&&"undefined"!=this.cities?(n=woo_notification.random(0,this.cities.length-1),i=this.cities[n]):i="",o="",t=this.country,a=this.get_time_string());var f='<span class="wn-popup-product-title">'+u.title+"</span>",d="<a ";_&&(d+='target="_blank"'),d+=' href="'+u.url+'">'+u.title+"</a>";var p="<small>"+_woocommerce_notification_params.str_about+" "+a+" "+_woocommerce_notification_params.str_ago+" </small>",h=this.message_custom,l="";u.thumb&&(r?(l="<a ",_&&(l+='target="_blank"'),l+=' href="'+u.url+'"><img src="'+u.thumb+'"></a>'):l='<img src="'+u.thumb+'">'),h=h.replace("{number}",this.random(this.message_number_min,this.message_number_max));for(var w=this.shortcodes,g=[e,i,o,t,f,d,p,h],y=m,v=w.length-1;v>=0;v--)y=y.replace(w[v],g[v]);var j="";parseInt(this.show_close)>0&&(j='<div id="notify-close"></div>');var b=l+"<p>"+y+"</p>"+j;jQuery("#message-purchased").html(b),this.close_notify(),woo_notification.message_show()}},close_notify:function(){jQuery("#notify-close").unbind(),jQuery("#notify-close").bind("click",function(){woo_notification.message_hide(),parseInt(woo_notification.time_close)>0&&(jQuery("#message-purchased").unbind(),woo_notification.setCookie("woo_notification_close",1,3600*parseInt(woo_notification.time_close)))})},random:function(e,o){e=parseInt(e),o=parseInt(o);var t=Math.random()*(o-e);return Math.round(t)+e},setCookie:function(e,o,t){var i=new Date;i.setTime(i.getTime()+1e3*t);var a="expires="+i.toUTCString();document.cookie=e+"="+o+";"+a+";path=/"},getCookie:function(e){for(var o=e+"=",t=decodeURIComponent(document.cookie).split(";"),i=0;i<t.length;i++){for(var a=t[i];" "==a.charAt(0);)a=a.substring(1);if(0==a.indexOf(o))return a.substring(o.length,a.length)}return""}};